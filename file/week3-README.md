目的
-------

通过实做的形式，熟悉业务分析的过程和基本方法，并掌握基本的数据库(Postgres)设计和基础操作。


题目设计
--------

分析并设计一个类似微博的功能的数据库。

1. 账户功能。用户可以用邮件注册账户，登录、退出，修改密码，重置密码。注册时输入用户名、邮件地址和密码，系统发送激活邮件，用户点击其中的激活链接来激活帐号，然后才能登录。登录的状态可以保存。未登录情况下可以重置密码，输入邮件地址，发送重置密码链接到邮箱，点击链接给重置密码的页面，重置密码的链接24小时失效。登录后可以上传头像，编写自己的自我简介，可以修改密码，需输入老密码确认，允许用户删除自己的账户。

2. 发布消息。用户登录后，可以发布消息，消息本身是文字，可以附带图片和链接。发布完的消息出现在自己的消息列表上，也出现在关注者的消息列表上。

3. 消息列表。列表里包含被关注者的消息、评论、转发，也包含自己的消息、评论、转发。对于每个消息、评论、转发等，都可以再评论、转发（自己的消息也能再自己转发）。可以删除自己的消息。评论只能是文字，可以删除自己的评论。转发也只能附带文字的说明。此列表可以翻页。

4. 最热消息。不管登录与否，都可以查看最热消息的列表，可以不翻页，只显示最热的TOP10或者其他数量。至于什么才算是“最热”，不做硬性规定，可以按照评论最多，也可以按照转发最多，或者其他的更智能的算法。在这个消息列表上，如果已经登录，也同样可以转发和评论，规则和上面的一致。

5. 消息详情。显示消息的全部内容，并列出评论列表，可以翻页。可以在这里进行转发、评论。

6. 用户推荐。系统按照一定的规则，列出一部分推荐用户，你可以选择关注。推荐用户可以不翻页，一屏显示即可。

7. 用户搜索。通过查询用户的名字，查询结果是个列表，可以在这个列表上关注某人。

8. 我的关注/关注我的人。列出我所关注的用户/关注我的人，并可以对某人取消关注。

9. 用户详情。可以查看某个用户的详情，显示其基本信息，并列出他发布和转发的消息，可以翻页。可以在这里，对此人进行关注或者去关。

我们需要把上面这些需求，当作客户给我们提的口头需求，我们需要画出对应的页面草图，并由这些草图，分析出主要业务逻辑的函数和数据库的结构。也就是说，经过对页面功能的设计，分析出能够支持这些功能的函数和数据库结构。

下面列出一些在考虑数据库设计的时候的一些问题，作为提示：

1. 数据库都需要那些表、字段，如何工作，才能实现帐号的注册、登录、退出、修改密码、重置密码？

2. 数据库要怎样设计，才能支持发布消息可以是文字、图片、链接。图片是否要用数据库保存？

3. 原始消息、评论、转发，三者之间的关系是怎么样的？如何用数据库来保存？

4. 关注是如何实现的？被关注者的消息是如何出现在关注者的页面上的？

5. 什么办法可以按照用户输入的名字做查询？


要求
------

1. 业务分析的草图以及简要文字说明，要写在项目Wiki中，Markdown语法。

2. 数据库设计的SQL文件，要作为代码提交，放在database目录下。

3. 使用Git命令行
